<div class="exchange-rate">
    <h2>Exchange Rate Analytics</h2>
    <label for="dateFrom">From:</label>
    <input type="date" id="dateFrom" [(ngModel)]="dateFrom" (change)="onDateChange()">
    <label for="dateTo">To:</label>
    <input type="date" id="dateTo" [(ngModel)]="dateTo" (change)="onDateChange()">
  
    <div style="margin-top: 2vw; margin-bottom: 2vw;"></div>

    <div class="filters">
      <div>
        <label for="eurFilter">EUR Rate Filter:</label>
        <input type="number" id="eurFilter" [(ngModel)]="eurFilter" (input)="filterExchangeRates()" class="filter-input" step="any">
      </div>
      <div>
        <label for="usdFilter">USD Rate Filter:</label>
        <input type="number" id="usdFilter" [(ngModel)]="usdFilter" (input)="filterExchangeRates()" class="filter-input" step="any">
      </div>
      <div>
        <label for="gbpFilter">GBP Rate Filter:</label>
        <input type="number" id="gbpFilter" [(ngModel)]="gbpFilter" (input)="filterExchangeRates()" class="filter-input" step="any">
      </div>
    </div>
     
    <!-- <div class="pagination-controls">
      <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 0">Previous</button>
      <span>  Page {{ currentPage + 1 }} of {{ totalPages }}  </span>
      <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages - 1">Next</button>
    </div> -->
    
    <!-- Pagination Controls -->
    <div class="pagination-controls">
      <button (click)="goToFirstPage()">First</button>
      <button [disabled]="currentPage <= 1" (click)="goToPreviousPage()">Previous</button>
      <span>Page <input type="number" [(ngModel)]="pageInput" (change)="goToPage(pageInput)" min="1" max="{{totalPages}}" style="width: 50px; text-align: center;" />  of {{totalPages}}</span>
      <button [disabled]="currentPage >= totalPages" (click)="goToNextPage()">Next</button>
      <button (click)="goToLastPage()">Last</button>
    </div>

  <!-- Jump to Page Input -->
    <!-- <div class="jump-to-page">
      <label for="pageInput">Jump to page:</label>
      <input type="number" id="pageInput" [(ngModel)]="pageInput" min="1" max="{{totalPages}}">
      <button (click)="goToPage(pageInput)">Go</button>
    </div>
    <br/> -->

    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>EUR Rate</th>
          <th>EUR Median</th>
          <th>USD Rate</th>
          <th>USD Median</th>
          <th>GBP Rate</th>
          <th>GBP Median</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let rate of filteredExchangeRates">
          <td>{{ rate.excRateDate }}</td>
          <td [style.color]="getColor(rate.excRateEur, eurMedian)">{{ rate.excRateEur }}</td>
          <td>{{ eurMedian }}</td>
          <td [style.color]="getColor(rate.excRateUsd, usdMedian)">{{ rate.excRateUsd }}</td>
          <td>{{ usdMedian }}</td>
          <td [style.color]="getColor(rate.excRateGbp, gbpMedian)">{{ rate.excRateGbp }}</td>
          <td>{{ gbpMedian }}</td>
        </tr>
      </tbody>
    </table>
  </div>
